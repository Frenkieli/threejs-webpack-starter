import{g as S}from"./vendor.2331be84.js";import*as i from"https://cdn.skypack.dev/three@0.126.1";import{OrbitControls as M}from"https://cdn.skypack.dev/three@0.126.1/examples/jsm/controls/OrbitControls.js";const P=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}};P();const c={plane:{width:400,height:400,widthSegments:50,heightSegments:50}};function v(){s.geometry.dispose(),s.geometry=new i.PlaneGeometry(c.plane.width,c.plane.height,c.plane.widthSegments,c.plane.heightSegments);const{array:t,count:a}=s.geometry.attributes.position;for(let e=0;e<t.length;e+=3){t[e],t[e+1];const o=t[e+2];t[e+2]=o+Math.random()}const l=[];for(let e=0;e<a;e++)l.push(0,.19,.4);s.geometry.setAttribute("color",new i.BufferAttribute(new Float32Array(l),3));const n=[];for(let e=0;e<t.length;e++){if(e%3==0){const o=t[e],r=t[e+1],b=t[e+2];t[e]=o+(Math.random()-.5)*3,t[e+1]=r+(Math.random()-.5)*3,t[e+2]=b+(Math.random()-.5)*3}n.push(Math.random()*Math.PI*2)}s.geometry.attributes.position.randomValues=n,s.geometry.attributes.position.originalPostion=s.geometry.attributes.position.array}const u=new i.Raycaster,f=new i.Scene,m=new i.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),d=new i.WebGLRenderer;d.setSize(window.innerWidth,window.innerHeight);d.setPixelRatio(window.devicePixelRatio);m.position.set(0,0,50);new M(m,d.domElement);document.body.appendChild(d.domElement);const L=new i.PlaneGeometry(c.plane.width,c.plane.height,c.plane.widthSegments,c.plane.heightSegments),x=new i.MeshPhongMaterial({side:i.DoubleSide,flatShading:i.FlatShading,vertexColors:!0}),s=new i.Mesh(L,x);f.add(s);v();const p=new i.DirectionalLight(16777215,1);p.position.set(0,-0,1);f.add(p);const w=new i.DirectionalLight(16777215,1);w.position.set(0,0,-1);f.add(w);const h={x:void 0,y:void 0};let g=0;function y(){requestAnimationFrame(y),d.render(f,m),u.setFromCamera(h,m),g+=.01;const{array:t,originalPostion:a,randomValues:l}=s.geometry.attributes.position;for(let e=0;e<t.length;e+=3)t[e]=a[e]+Math.cos(g+l[e])*.01,t[e+1]=a[e+1]+Math.sin(g+l[e+1])*.01;s.geometry.attributes.position.needsUpdate=!0;const n=u.intersectObject(s);if(n.length>0){const{color:e}=n[0].object.geometry.attributes,o={r:0,g:.19,b:.4},r={r:.1,g:.5,b:1};S.to(r,Object.assign({duration:1,onUpdate:()=>{e.setX(n[0].face.a,r.r),e.setY(n[0].face.a,r.g),e.setZ(n[0].face.a,r.b),e.setX(n[0].face.b,r.r),e.setY(n[0].face.b,r.g),e.setZ(n[0].face.b,r.b),e.setX(n[0].face.c,r.r),e.setY(n[0].face.c,r.g),e.setZ(n[0].face.c,r.b),e.needsUpdate=!0}},o))}}y();window.addEventListener("mousemove",t=>{h.x=t.clientX/window.innerWidth*2-1,h.y=t.clientY/window.innerHeight*-2+1});
